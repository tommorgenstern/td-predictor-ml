{"custom_id": "requests#3d59569264b6f84258bcb92f580db072ab9dd68f", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 2 | Lines Deleted: 2 | Files Changed: 1 | Hunks: 1 | Methods Changed: 0 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 4 | Churn Cumulative: 513 | Contributors (this commit): 8 | Commits (past 90d): 4 | Contributors (cumulative): 8 | DMM Complexity: None\n\nDIFF:\n@@ -42,8 +42,8 @@ is at <http://python-requests.org>.\n \"\"\"\n \n __title__ = 'requests'\n-__version__ = '2.0.0'\n-__build__ = 0x020000\n+__version__ = '2.0.1'\n+__build__ = 0x020001\n __author__ = 'Kenneth Reitz'\n __license__ = 'Apache 2.0'\n __copyright__ = 'Copyright 2013 Kenneth Reitz'\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#6931bd67153f92246c2fdd69d2c0ec29c13bb885", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 13 | Lines Deleted: 8 | Files Changed: 1 | Hunks: 5 | Methods Changed: 1 | Complexity Δ (Sum/Max): 2/2 | Churn Δ: 21 | Churn Cumulative: 1185 | Contributors (this commit): 26 | Commits (past 90d): 4 | Contributors (cumulative): 26 | DMM Complexity: 0.0\n\nDIFF:\n@@ -77,7 +77,7 @@ class HTTPDigestAuth(AuthBase):\n         else:\n             _algorithm = algorithm.upper()\n         # lambdas assume digest modules are imported at the top level\n-        if _algorithm == 'MD5':\n+        if _algorithm == 'MD5' or _algorithm == 'MD5-SESS':\n             def md5_utf8(x):\n                 if isinstance(x, str):\n                     x = x.encode('utf-8')\n@@ -89,7 +89,7 @@ class HTTPDigestAuth(AuthBase):\n                     x = x.encode('utf-8')\n                 return hashlib.sha1(x).hexdigest()\n             hash_utf8 = sha_utf8\n-        # XXX MD5-sess\n+\n         KD = lambda s, d: hash_utf8(\"%s:%s\" % (s, d))\n \n         if hash_utf8 is None:\n@@ -105,14 +105,13 @@ class HTTPDigestAuth(AuthBase):\n         A1 = '%s:%s:%s' % (self.username, realm, self.password)\n         A2 = '%s:%s' % (method, path)\n         \n-        if qop is None:\n-            respdig = KD(hash_utf8(A1), \"%s:%s\" % (nonce, hash_utf8(A2)))\n-        elif qop == 'auth' or 'auth' in qop.split(','):\n+        HA1 = hash_utf8(A1)\n+        HA2 = hash_utf8(A2)\n+\n         if nonce == self.last_nonce:\n             self.nonce_count += 1\n         else:\n             self.nonce_count = 1\n-\n         ncvalue = '%08x' % self.nonce_count\n         s = str(self.nonce_count).encode('utf-8')\n         s += nonce.encode('utf-8')\n@@ -120,8 +119,14 @@ class HTTPDigestAuth(AuthBase):\n         s += os.urandom(8)\n \n         cnonce = (hashlib.sha1(s).hexdigest()[:16])\n-            noncebit = \"%s:%s:%s:%s:%s\" % (nonce, ncvalue, cnonce, qop, hash_utf8(A2))\n-            respdig = KD(hash_utf8(A1), noncebit)\n+        noncebit = \"%s:%s:%s:%s:%s\" % (nonce, ncvalue, cnonce, qop, HA2)\n+        if _algorithm == 'MD5-SESS':\n+            HA1 = hash_utf8('%s:%s:%s' % (HA1, nonce, cnonce))\n+\n+        if qop is None:\n+            respdig = KD(HA1, \"%s:%s\" % (nonce, HA2))\n+        elif qop == 'auth' or 'auth' in qop.split(','):\n+            respdig = KD(HA1, noncebit)\n         else:\n             # XXX handle auth-int.\n             return None\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#aa60b8ea5b570d2873c72e642f44eefe5286a096", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 159 | Lines Deleted: 180 | Files Changed: 1 | Hunks: 110 | Methods Changed: 74 | Complexity Δ (Sum/Max): -2/0 | Churn Δ: 339 | Churn Cumulative: 3933 | Contributors (this commit): 63 | Commits (past 90d): 12 | Contributors (cumulative): 63 | DMM Complexity: 0.0\n\nDIFF:\n@@ -57,8 +57,10 @@ class RequestsTestCase(unittest.TestCase):\n         requests.post\n \n     def test_invalid_url(self):\n-        self.assertRaises(MissingSchema, requests.get, 'hiwpefhipowhefopw')\n-        self.assertRaises(InvalidURL, requests.get, 'http://')\n+        with pytest.raises(MissingSchema):\n+            requests.get('hiwpefhipowhefopw')\n+        with pytest.raises(InvalidURL):\n+            requests.get('http://')\n \n     def test_basic_building(self):\n         req = requests.Request()\n@@ -71,24 +73,22 @@ class RequestsTestCase(unittest.TestCase):\n \n     def test_no_content_length(self):\n         get_req = requests.Request('GET', httpbin('get')).prepare()\n-        self.assertTrue('Content-Length' not in get_req.headers)\n+        assert 'Content-Length' not in get_req.headers\n         head_req = requests.Request('HEAD', httpbin('head')).prepare()\n-        self.assertTrue('Content-Length' not in head_req.headers)\n+        assert 'Content-Length' not in head_req.headers\n \n     def test_path_is_not_double_encoded(self):\n         request = requests.Request('GET', \"http://0.0.0.0/get/test case\").prepare()\n \n-        self.assertEqual(request.path_url, \"/get/test%20case\")\n+        assert request.path_url == '/get/test%20case'\n \n     def test_params_are_added_before_fragment(self):\n         request = requests.Request('GET',\n             \"http://example.com/path#fragment\", params={\"a\": \"b\"}).prepare()\n-        self.assertEqual(request.url,\n-            \"http://example.com/path?a=b#fragment\")\n+        assert request.url == \"http://example.com/path?a=b#fragment\"\n         request = requests.Request('GET',\n             \"http://example.com/path?key=value#fragment\", params={\"a\": \"b\"}).prepare()\n-        self.assertEqual(request.url,\n-            \"http://example.com/path?key=value&a=b#fragment\")\n+        assert request.url == \"http://example.com/path?key=value&a=b#fragment\"\n \n     def test_mixed_case_scheme_acceptable(self):\n         s = requests.Session()\n@@ -100,8 +100,7 @@ class RequestsTestCase(unittest.TestCase):\n             url = scheme + parts.netloc + parts.path\n             r = requests.Request('GET', url)\n             r = s.send(r.prepare())\n-            self.assertEqual(r.status_code, 200,\n-                             \"failed for scheme %s\" % scheme)\n+            assert r.status_code == 200, 'failed for scheme {0}'.format(scheme)\n \n     def test_HTTP_200_OK_GET_ALTERNATIVE(self):\n         r = requests.Request('GET', httpbin('get'))\n@@ -110,11 +109,11 @@ class RequestsTestCase(unittest.TestCase):\n \n         r = s.send(r.prepare())\n \n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_HTTP_302_ALLOW_REDIRECT_GET(self):\n         r = requests.get(httpbin('redirect', '1'))\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     # def test_HTTP_302_ALLOW_REDIRECT_POST(self):\n     #     r = requests.post(httpbin('status', '302'), data={'some': 'data'})\n@@ -125,31 +124,31 @@ class RequestsTestCase(unittest.TestCase):\n \n         r = requests.get(httpbin('user-agent'), headers=heads)\n \n-        self.assertTrue(heads['User-agent'] in r.text)\n-        self.assertEqual(r.status_code, 200)\n+        assert heads['User-agent'] in r.text\n+        assert r.status_code == 200\n \n     def test_HTTP_200_OK_GET_WITH_MIXED_PARAMS(self):\n         heads = {'User-agent': 'Mozilla/5.0'}\n \n         r = requests.get(httpbin('get') + '?test=true', params={'q': 'test'}, headers=heads)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_set_cookie_on_301(self):\n         s = requests.session()\n         url = httpbin('cookies/set?foo=bar')\n         r = s.get(url)\n-        self.assertTrue(s.cookies['foo'] == 'bar')\n+        assert s.cookies['foo'] == 'bar'\n \n     def test_cookie_sent_on_redirect(self):\n         s = requests.session()\n         s.get(httpbin('cookies/set?foo=bar'))\n         r = s.get(httpbin('redirect/1'))  # redirects to httpbin('get')\n-        self.assertTrue(\"Cookie\" in r.json()[\"headers\"])\n+        assert 'Cookie' in r.json()['headers']\n \n     def test_cookie_removed_on_expire(self):\n         s = requests.session()\n         s.get(httpbin('cookies/set?foo=bar'))\n-        self.assertTrue(s.cookies['foo'] == 'bar')\n+        assert s.cookies['foo'] == 'bar'\n         s.get(\n             httpbin('response-headers'),\n             params={\n@@ -162,13 +161,13 @@ class RequestsTestCase(unittest.TestCase):\n     def test_cookie_quote_wrapped(self):\n         s = requests.session()\n         s.get(httpbin('cookies/set?foo=\"bar:baz\"'))\n-        self.assertTrue(s.cookies['foo'] == '\"bar:baz\"')\n+        assert s.cookies['foo'] == '\"bar:baz\"'\n \n     def test_cookie_persists_via_api(self):\n         s = requests.session()\n         r = s.get(httpbin('redirect/1'), cookies={'foo':'bar'})\n-        self.assertTrue('foo' in r.request.headers['Cookie'])\n-        self.assertTrue('foo' in r.history[0].request.headers['Cookie'])\n+        assert 'foo' in r.request.headers['Cookie']\n+        assert 'foo' in r.history[0].request.headers['Cookie']\n \n     def test_request_cookie_overrides_session_cookie(self):\n         s = requests.session()\n@@ -193,7 +192,7 @@ class RequestsTestCase(unittest.TestCase):\n         resp = requests.get(httpbin('redirect/3'))\n         urls = [r.url for r in resp.history]\n         req_urls = [r.request.url for r in resp.history]\n-        self.assertEquals(urls, req_urls)\n+        assert urls == req_urls\n \n     def test_user_agent_transfers(self):\n \n@@ -202,37 +201,37 @@ class RequestsTestCase(unittest.TestCase):\n         }\n \n         r = requests.get(httpbin('user-agent'), headers=heads)\n-        self.assertTrue(heads['User-agent'] in r.text)\n+        assert heads['User-agent'] in r.text\n \n         heads = {\n             'user-agent': 'Mozilla/5.0 (github.com/kennethreitz/requests)'\n         }\n \n         r = requests.get(httpbin('user-agent'), headers=heads)\n-        self.assertTrue(heads['user-agent'] in r.text)\n+        assert heads['user-agent'] in r.text\n \n     def test_HTTP_200_OK_HEAD(self):\n         r = requests.head(httpbin('get'))\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_HTTP_200_OK_PUT(self):\n         r = requests.put(httpbin('put'))\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_BASICAUTH_TUPLE_HTTP_200_OK_GET(self):\n         auth = ('user', 'pass')\n         url = httpbin('basic-auth', 'user', 'pass')\n \n         r = requests.get(url, auth=auth)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         r = requests.get(url)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n         s = requests.session()\n         s.auth = auth\n         r = s.get(url)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_basicauth_with_netrc(self):\n         auth = ('user', 'pass')\n@@ -245,22 +244,22 @@ class RequestsTestCase(unittest.TestCase):\n \n         # Should use netrc and work.\n         r = requests.get(url)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         # Given auth should override and fail.\n         r = requests.get(url, auth=wrong_auth)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n         s = requests.session()\n \n         # Should use netrc and work.\n         r = s.get(url)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         # Given auth should override and fail.\n         s.auth = wrong_auth\n         r = s.get(url)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n     def test_DIGEST_HTTP_200_OK_GET(self):\n \n@@ -268,15 +267,15 @@ class RequestsTestCase(unittest.TestCase):\n         url = httpbin('digest-auth', 'auth', 'user', 'pass')\n \n         r = requests.get(url, auth=auth)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         r = requests.get(url)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n         s = requests.session()\n         s.auth = HTTPDigestAuth('user', 'pass')\n         r = s.get(url)\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_DIGEST_AUTH_RETURNS_COOKIE(self):\n         url = httpbin('digest-auth', 'auth', 'user', 'pass')\n@@ -300,11 +299,10 @@ class RequestsTestCase(unittest.TestCase):\n         url = httpbin('digest-auth', 'auth', 'user', 'pass')\n \n         r = requests.get(url, auth=auth, stream=True)\n-        self.assertNotEqual(r.raw.read(), b'')\n+        assert r.raw.read() != b''\n \n         r = requests.get(url, auth=auth, stream=False)\n-        self.assertEqual(r.raw.read(), b'')\n-\n+        assert r.raw.read() == b''\n \n     def test_DIGESTAUTH_WRONG_HTTP_401_GET(self):\n \n@@ -312,15 +310,15 @@ class RequestsTestCase(unittest.TestCase):\n         url = httpbin('digest-auth', 'auth', 'user', 'pass')\n \n         r = requests.get(url, auth=auth)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n         r = requests.get(url)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n         s = requests.session()\n         s.auth = auth\n         r = s.get(url)\n-        self.assertEqual(r.status_code, 401)\n+        assert r.status_code == 401\n \n     def test_POSTBIN_GET_POST_FILES(self):\n \n@@ -328,19 +326,17 @@ class RequestsTestCase(unittest.TestCase):\n         post1 = requests.post(url).raise_for_status()\n \n         post1 = requests.post(url, data={'some': 'data'})\n-        self.assertEqual(post1.status_code, 200)\n+        assert post1.status_code == 200\n \n         with open('requirements.txt') as f:\n             post2 = requests.post(url, files={'some': f})\n-        self.assertEqual(post2.status_code, 200)\n+        assert post2.status_code == 200\n \n         post4 = requests.post(url, data='[{\"some\": \"json\"}]')\n-        self.assertEqual(post4.status_code, 200)\n+        assert post4.status_code == 200\n \n-        try:\n+        with pytest.raises(ValueError):\n             requests.post(url, files = ['bad file data'])\n-        except ValueError:\n-            pass\n \n     def test_POSTBIN_GET_POST_FILES_WITH_DATA(self):\n \n@@ -348,19 +344,17 @@ class RequestsTestCase(unittest.TestCase):\n         post1 = requests.post(url).raise_for_status()\n \n         post1 = requests.post(url, data={'some': 'data'})\n-        self.assertEqual(post1.status_code, 200)\n+        assert post1.status_code == 200\n \n         with open('requirements.txt') as f:\n             post2 = requests.post(url, data={'some': 'data'}, files={'some': f})\n-        self.assertEqual(post2.status_code, 200)\n+        assert post2.status_code == 200\n \n         post4 = requests.post(url, data='[{\"some\": \"json\"}]')\n-        self.assertEqual(post4.status_code, 200)\n+        assert post4.status_code == 200\n \n-        try:\n+        with pytest.raises(ValueError):\n             requests.post(url, files = ['bad file data'])\n-        except ValueError:\n-            pass\n \n     def test_conflicting_post_params(self):\n         url = httpbin('post')\n@@ -370,14 +364,15 @@ class RequestsTestCase(unittest.TestCase):\n \n     def test_request_ok_set(self):\n         r = requests.get(httpbin('status', '404'))\n-        self.assertEqual(r.ok, False)\n+        assert not r.ok\n \n     def test_status_raising(self):\n         r = requests.get(httpbin('status', '404'))\n-        self.assertRaises(requests.exceptions.HTTPError, r.raise_for_status)\n+        with pytest.raises(requests.exceptions.HTTPError):\n+            r.raise_for_status()\n \n         r = requests.get(httpbin('status', '500'))\n-        self.assertFalse(r.ok)\n+        assert not r.ok\n \n     def test_decompress_gzip(self):\n         r = requests.get(httpbin('gzip'))\n@@ -397,36 +392,36 @@ class RequestsTestCase(unittest.TestCase):\n     def test_urlencoded_get_query_multivalued_param(self):\n \n         r = requests.get(httpbin('get'), params=dict(test=['foo', 'baz']))\n-        self.assertEqual(r.status_code, 200)\n-        self.assertEqual(r.url, httpbin('get?test=foo&test=baz'))\n+        assert r.status_code == 200\n+        assert r.url == httpbin('get?test=foo&test=baz')\n \n     def test_different_encodings_dont_break_post(self):\n         r = requests.post(httpbin('post'),\n                           data={'stuff': json.dumps({'a': 123})},\n                           params={'blah': 'asdf1234'},\n                           files={'file': ('test_requests.py', open(__file__, 'rb'))})\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_unicode_multipart_post(self):\n         r = requests.post(httpbin('post'),\n                           data={'stuff': u'ëlïxr'},\n                           files={'file': ('test_requests.py', open(__file__, 'rb'))})\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         r = requests.post(httpbin('post'),\n                           data={'stuff': u'ëlïxr'.encode('utf-8')},\n                           files={'file': ('test_requests.py', open(__file__, 'rb'))})\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         r = requests.post(httpbin('post'),\n                           data={'stuff': 'elixr'},\n                           files={'file': ('test_requests.py', open(__file__, 'rb'))})\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n         r = requests.post(httpbin('post'),\n                           data={'stuff': 'elixr'.encode('utf-8')},\n                           files={'file': ('test_requests.py', open(__file__, 'rb'))})\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_unicode_multipart_post_fieldnames(self):\n         filename = os.path.splitext(__file__)[0] + '.py'\n@@ -436,8 +431,8 @@ class RequestsTestCase(unittest.TestCase):\n                              files={'file': ('test_requests.py',\n                                              open(filename, 'rb'))})\n         prep = r.prepare()\n-        self.assertTrue(b'name=\"stuff\"' in prep.body)\n-        self.assertFalse(b'name=\"b\\'stuff\\'\"' in prep.body)\n+        assert b'name=\"stuff\"' in prep.body\n+        assert b'name=\"b\\'stuff\\'\"' not in prep.body\n \n     def test_custom_content_type(self):\n         r = requests.post(httpbin('post'),\n@@ -445,8 +440,8 @@ class RequestsTestCase(unittest.TestCase):\n                           files={'file1': ('test_requests.py', open(__file__, 'rb')),\n                                  'file2': ('test_requests', open(__file__, 'rb'),\n                                            'text/py-content-type')})\n-        self.assertEqual(r.status_code, 200)\n-        self.assertTrue(b\"text/py-content-type\" in r.request.body)\n+        assert r.status_code == 200\n+        assert b\"text/py-content-type\" in r.request.body\n \n     def test_hook_receives_request_arguments(self):\n         def hook(resp, **kwargs):\n@@ -467,7 +462,7 @@ class RequestsTestCase(unittest.TestCase):\n         s.proxies = getproxies()\n         resp = s.send(prep)\n \n-        self.assertTrue(hasattr(resp, 'hook_working'))\n+        assert hasattr(resp, 'hook_working')\n \n     def test_prepared_from_session(self):\n         class DummyAuth(requests.auth.AuthBase):\n@@ -476,7 +471,7 @@ class RequestsTestCase(unittest.TestCase):\n                 return r\n \n         req = requests.Request('GET', httpbin('headers'))\n-        self.assertEqual(req.auth, None)\n+        assert not req.auth\n \n         s = requests.Session()\n         s.auth = DummyAuth()\n@@ -484,7 +479,7 @@ class RequestsTestCase(unittest.TestCase):\n         prep = s.prepare_request(req)\n         resp = s.send(prep)\n \n-        self.assertTrue(resp.json()['headers']['Dummy-Auth-Test'], 'dummy-auth-test-ok')\n+        assert resp.json()['headers']['Dummy-Auth-Test'] == 'dummy-auth-test-ok'\n \n     def test_links(self):\n         r = requests.Response()\n@@ -508,7 +503,7 @@ class RequestsTestCase(unittest.TestCase):\n             'x-ratelimit-limit': '60',\n             'x-ratelimit-remaining': '57'\n         }\n-        self.assertEqual(r.links['next']['rel'], 'next')\n+        assert r.links['next']['rel'] == 'next'\n \n     def test_cookie_parameters(self):\n         key = 'some_cookie'\n@@ -520,20 +515,20 @@ class RequestsTestCase(unittest.TestCase):\n         jar = requests.cookies.RequestsCookieJar()\n         jar.set(key, value, secure=secure, domain=domain, rest=rest)\n \n-        self.assertEqual(len(jar), 1)\n-        self.assertTrue('some_cookie' in jar)\n+        assert len(jar) == 1\n+        assert 'some_cookie' in jar\n \n         cookie = list(jar)[0]\n-        self.assertEqual(cookie.secure, secure)\n-        self.assertEqual(cookie.domain, domain)\n-        self.assertEqual(cookie._rest['HttpOnly'], rest['HttpOnly'])\n+        assert cookie.secure == secure\n+        assert cookie.domain == domain\n+        assert cookie._rest['HttpOnly'] == rest['HttpOnly']\n \n     def test_time_elapsed_blank(self):\n         r = requests.get(httpbin('get'))\n         td = r.elapsed\n         total_seconds = ((td.microseconds + (td.seconds + td.days * 24 * 3600)\n                          * 10**6) / 10**6)\n-        self.assertTrue(total_seconds > 0.0)\n+        assert total_seconds > 0.0\n \n     def test_response_is_iterable(self):\n         r = requests.Response()\n@@ -544,27 +539,27 @@ class RequestsTestCase(unittest.TestCase):\n             return read_(amt)\n         setattr(io, 'read', read_mock)\n         r.raw = io\n-        self.assertTrue(next(iter(r)))\n+        assert next(iter(r))\n         io.close()\n \n     def test_get_auth_from_url(self):\n         url = 'http://user:pass@complex.url.com/path?query=yes'\n-        self.assertEqual(('user', 'pass'),\n-                         requests.utils.get_auth_from_url(url))\n+        assert ('user', 'pass') == requests.utils.get_auth_from_url(url)\n \n     def test_cannot_send_unprepared_requests(self):\n         r = requests.Request(url=HTTPBIN)\n-        self.assertRaises(ValueError, requests.Session().send, r)\n+        with pytest.raises(ValueError):\n+            requests.Session().send(r)\n \n     def test_http_error(self):\n         error = requests.exceptions.HTTPError()\n-        self.assertEqual(error.response, None)\n+        assert not error.response\n         response = requests.Response()\n         error = requests.exceptions.HTTPError(response=response)\n-        self.assertEqual(error.response, response)\n+        assert error.response == response\n         error = requests.exceptions.HTTPError('message', response=response)\n-        self.assertEqual(str(error), 'message')\n-        self.assertEqual(error.response, response)\n+        assert str(error) == 'message'\n+        assert error.response == response\n \n     def test_session_pickling(self):\n         r = requests.Request('GET', httpbin('get'))\n@@ -574,7 +569,7 @@ class RequestsTestCase(unittest.TestCase):\n         s.proxies = getproxies()\n \n         r = s.send(r.prepare())\n-        self.assertEqual(r.status_code, 200)\n+        assert r.status_code == 200\n \n     def test_fixes_1329(self):\n         \"\"\"\n@@ -585,30 +580,21 @@ class RequestsTestCase(unittest.TestCase):\n         s.headers.update({'accept': 'application/json'})\n         r = s.get(httpbin('get'))\n         headers = r.request.headers\n-        self.assertEqual(\n-            headers['accept'],\n-            'application/json'\n-        )\n-        self.assertEqual(\n-            headers['Accept'],\n-            'application/json'\n-        )\n-        self.assertEqual(\n-            headers['ACCEPT'],\n-            'application/json'\n-        )\n+        assert headers['accept'] == 'application/json'\n+        assert headers['Accept'] == 'application/json'\n+        assert headers['ACCEPT'] == 'application/json'\n \n     def test_uppercase_scheme_redirect(self):\n         parts = urlparse(httpbin('html'))\n         url = \"HTTP://\" + parts.netloc + parts.path\n         r = requests.get(httpbin('redirect-to'), params={'url': url})\n-        self.assertEqual(r.status_code, 200)\n-        self.assertEqual(r.url.lower(), url.lower())\n+        assert r.status_code == 200\n+        assert r.url.lower() == url.lower()\n \n     def test_transport_adapter_ordering(self):\n         s = requests.Session()\n         order = ['https://', 'http://']\n-        self.assertEqual(order, list(s.adapters))\n+        assert order == list(s.adapters)\n         s.mount('http://git', HTTPAdapter())\n         s.mount('http://github', HTTPAdapter())\n         s.mount('http://github.com', HTTPAdapter())\n@@ -621,7 +607,7 @@ class RequestsTestCase(unittest.TestCase):\n             'https://',\n             'http://',\n         ]\n-        self.assertEqual(order, list(s.adapters))\n+        assert order == list(s.adapters)\n         s.mount('http://gittip', HTTPAdapter())\n         s.mount('http://gittip.com', HTTPAdapter())\n         s.mount('http://gittip.com/about/', HTTPAdapter())\n@@ -636,12 +622,12 @@ class RequestsTestCase(unittest.TestCase):\n             'https://',\n             'http://',\n         ]\n-        self.assertEqual(order, list(s.adapters))\n+        assert order == list(s.adapters)\n         s2 = requests.Session()\n         s2.adapters = {'http://': HTTPAdapter()}\n         s2.mount('https://', HTTPAdapter())\n-        self.assertTrue('http://' in s2.adapters)\n-        self.assertTrue('https://' in s2.adapters)\n+        assert 'http://' in s2.adapters\n+        assert 'https://' in s2.adapters\n \n     def test_header_remove_is_case_insensitive(self):\n         # From issue #1321\n@@ -664,7 +650,7 @@ class RequestsTestCase(unittest.TestCase):\n             'exactly-------------sixty-----------three------------characters',\n         )\n         r = requests.Request('GET', url).prepare()\n-        self.assertEqual(r.url, url)\n+        assert r.url == url\n \n     def test_header_keys_are_native(self):\n         headers = {u'unicode': 'blah', 'byte'.encode('ascii'): 'blah'}\n@@ -673,8 +659,8 @@ class RequestsTestCase(unittest.TestCase):\n \n         # This is testing that they are builtin strings. A bit weird, but there\n         # we go.\n-        self.assertTrue('unicode' in p.headers.keys())\n-        self.assertTrue('byte' in p.headers.keys())\n+        assert 'unicode' in p.headers.keys()\n+        assert 'byte' in p.headers.keys()\n \n     def test_can_send_nonstring_objects_with_files(self):\n         data = {'a': 0.0}\n@@ -682,7 +668,7 @@ class RequestsTestCase(unittest.TestCase):\n         r = requests.Request('POST', httpbin('post'), data=data, files=files)\n         p = r.prepare()\n \n-        self.assertTrue('multipart/form-data' in p.headers['Content-Type'])\n+        assert 'multipart/form-data' in p.headers['Content-Type']\n \n     def test_autoset_header_values_are_native(self):\n         data = 'this is a string'\n@@ -690,42 +676,41 @@ class RequestsTestCase(unittest.TestCase):\n         req = requests.Request('POST', httpbin('post'), data=data)\n         p = req.prepare()\n \n-        self.assertEqual(p.headers['Content-Length'], length)\n-\n+        assert p.headers['Content-Length'] == length\n \n class TestContentEncodingDetection(unittest.TestCase):\n \n     def test_none(self):\n         encodings = requests.utils.get_encodings_from_content('')\n-        self.assertEqual(len(encodings), 0)\n+        assert not len(encodings)\n \n     def test_html_charset(self):\n         \"\"\"HTML5 meta charset attribute\"\"\"\n         content = '<meta charset=\"UTF-8\">'\n         encodings = requests.utils.get_encodings_from_content(content)\n-        self.assertEqual(len(encodings), 1)\n-        self.assertEqual(encodings[0], 'UTF-8')\n+        assert len(encodings) == 1\n+        assert encodings[0] == 'UTF-8'\n \n     def test_html4_pragma(self):\n         \"\"\"HTML4 pragma directive\"\"\"\n         content = '<meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\">'\n         encodings = requests.utils.get_encodings_from_content(content)\n-        self.assertEqual(len(encodings), 1)\n-        self.assertEqual(encodings[0], 'UTF-8')\n+        assert len(encodings) == 1\n+        assert encodings[0] == 'UTF-8'\n \n     def test_xhtml_pragma(self):\n         \"\"\"XHTML 1.x served with text/html MIME type\"\"\"\n         content = '<meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\" />'\n         encodings = requests.utils.get_encodings_from_content(content)\n-        self.assertEqual(len(encodings), 1)\n-        self.assertEqual(encodings[0], 'UTF-8')\n+        assert len(encodings) == 1\n+        assert encodings[0] == 'UTF-8'\n \n     def test_xml(self):\n         \"\"\"XHTML 1.x served as XML\"\"\"\n         content = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>'\n         encodings = requests.utils.get_encodings_from_content(content)\n-        self.assertEqual(len(encodings), 1)\n-        self.assertEqual(encodings[0], 'UTF-8')\n+        assert len(encodings) == 1\n+        assert encodings[0] == 'UTF-8'\n \n     def test_precedence(self):\n         content = '''\n@@ -734,44 +719,44 @@ class TestContentEncodingDetection(unittest.TestCase):\n         <meta http-equiv=\"Content-type\" content=\"text/html;charset=HTML4\" />\n         '''.strip()\n         encodings = requests.utils.get_encodings_from_content(content)\n-        self.assertEqual(encodings, ['HTML5', 'HTML4', 'XML'])\n+        assert encodings == ['HTML5', 'HTML4', 'XML']\n \n \n class TestCaseInsensitiveDict(unittest.TestCase):\n \n     def test_mapping_init(self):\n         cid = CaseInsensitiveDict({'Foo': 'foo','BAr': 'bar'})\n-        self.assertEqual(len(cid), 2)\n-        self.assertTrue('foo' in cid)\n-        self.assertTrue('bar' in cid)\n+        assert len(cid) == 2\n+        assert 'foo' in cid\n+        assert 'bar' in cid\n \n     def test_iterable_init(self):\n         cid = CaseInsensitiveDict([('Foo', 'foo'), ('BAr', 'bar')])\n-        self.assertEqual(len(cid), 2)\n-        self.assertTrue('foo' in cid)\n-        self.assertTrue('bar' in cid)\n+        assert len(cid) == 2\n+        assert 'foo' in cid\n+        assert 'bar' in cid\n \n     def test_kwargs_init(self):\n         cid = CaseInsensitiveDict(FOO='foo', BAr='bar')\n-        self.assertEqual(len(cid), 2)\n-        self.assertTrue('foo' in cid)\n-        self.assertTrue('bar' in cid)\n+        assert len(cid) == 2\n+        assert 'foo' in cid\n+        assert 'bar' in cid\n \n     def test_docstring_example(self):\n         cid = CaseInsensitiveDict()\n         cid['Accept'] = 'application/json'\n-        self.assertEqual(cid['aCCEPT'], 'application/json')\n-        self.assertEqual(list(cid), ['Accept'])\n+        assert cid['aCCEPT'] == 'application/json'\n+        assert list(cid) == ['Accept']\n \n     def test_len(self):\n         cid = CaseInsensitiveDict({'a': 'a', 'b': 'b'})\n         cid['A'] = 'a'\n-        self.assertEqual(len(cid), 2)\n+        assert len(cid) == 2\n \n     def test_getitem(self):\n         cid = CaseInsensitiveDict({'Spam': 'blueval'})\n-        self.assertEqual(cid['spam'], 'blueval')\n-        self.assertEqual(cid['SPAM'], 'blueval')\n+        assert cid['spam'] == 'blueval'\n+        assert cid['SPAM'] == 'blueval'\n \n     def test_fixes_649(self):\n         \"\"\"__setitem__ should behave case-insensitively.\"\"\"\n@@ -780,74 +765,68 @@ class TestCaseInsensitiveDict(unittest.TestCase):\n         cid['Spam'] = 'twoval'\n         cid['sPAM'] = 'redval'\n         cid['SPAM'] = 'blueval'\n-        self.assertEqual(cid['spam'], 'blueval')\n-        self.assertEqual(cid['SPAM'], 'blueval')\n-        self.assertEqual(list(cid.keys()), ['SPAM'])\n+        assert cid['spam'] == 'blueval'\n+        assert cid['SPAM'] == 'blueval'\n+        assert list(cid.keys()) == ['SPAM']\n \n     def test_delitem(self):\n         cid = CaseInsensitiveDict()\n         cid['Spam'] = 'someval'\n         del cid['sPam']\n-        self.assertFalse('spam' in cid)\n-        self.assertEqual(len(cid), 0)\n+        assert 'spam' not in cid\n+        assert len(cid) == 0\n \n     def test_contains(self):\n         cid = CaseInsensitiveDict()\n         cid['Spam'] = 'someval'\n-        self.assertTrue('Spam' in cid)\n-        self.assertTrue('spam' in cid)\n-        self.assertTrue('SPAM' in cid)\n-        self.assertTrue('sPam' in cid)\n-        self.assertFalse('notspam' in cid)\n+        assert 'Spam' in cid\n+        assert 'spam' in cid\n+        assert 'SPAM' in cid\n+        assert 'sPam' in cid\n+        assert 'notspam' not in cid\n \n     def test_get(self):\n         cid = CaseInsensitiveDict()\n         cid['spam'] = 'oneval'\n         cid['SPAM'] = 'blueval'\n-        self.assertEqual(cid.get('spam'), 'blueval')\n-        self.assertEqual(cid.get('SPAM'), 'blueval')\n-        self.assertEqual(cid.get('sPam'), 'blueval')\n-        self.assertEqual(cid.get('notspam', 'default'), 'default')\n+        assert cid.get('spam') == 'blueval'\n+        assert cid.get('SPAM') == 'blueval'\n+        assert cid.get('sPam') == 'blueval'\n+        assert cid.get('notspam', 'default') == 'default'\n \n     def test_update(self):\n         cid = CaseInsensitiveDict()\n         cid['spam'] = 'blueval'\n         cid.update({'sPam': 'notblueval'})\n-        self.assertEqual(cid['spam'], 'notblueval')\n+        assert cid['spam'] == 'notblueval'\n         cid = CaseInsensitiveDict({'Foo': 'foo','BAr': 'bar'})\n         cid.update({'fOO': 'anotherfoo', 'bAR': 'anotherbar'})\n-        self.assertEqual(len(cid), 2)\n-        self.assertEqual(cid['foo'], 'anotherfoo')\n-        self.assertEqual(cid['bar'], 'anotherbar')\n+        assert len(cid) == 2\n+        assert cid['foo'] == 'anotherfoo'\n+        assert cid['bar'] == 'anotherbar'\n \n     def test_update_retains_unchanged(self):\n         cid = CaseInsensitiveDict({'foo': 'foo', 'bar': 'bar'})\n         cid.update({'foo': 'newfoo'})\n-        self.assertEquals(cid['bar'], 'bar')\n+        assert cid['bar'] == 'bar'\n \n     def test_iter(self):\n         cid = CaseInsensitiveDict({'Spam': 'spam', 'Eggs': 'eggs'})\n         keys = frozenset(['Spam', 'Eggs'])\n-        self.assertEqual(frozenset(iter(cid)), keys)\n+        assert frozenset(iter(cid)) == keys\n \n     def test_equality(self):\n         cid = CaseInsensitiveDict({'SPAM': 'blueval', 'Eggs': 'redval'})\n         othercid = CaseInsensitiveDict({'spam': 'blueval', 'eggs': 'redval'})\n-        self.assertEqual(cid, othercid)\n+        assert cid == othercid\n         del othercid['spam']\n-        self.assertNotEqual(cid, othercid)\n-        self.assertEqual(cid, {'spam': 'blueval', 'eggs': 'redval'})\n+        assert cid != othercid\n+        assert cid == {'spam': 'blueval', 'eggs': 'redval'}\n \n     def test_setdefault(self):\n         cid = CaseInsensitiveDict({'Spam': 'blueval'})\n-        self.assertEqual(\n-            cid.setdefault('spam', 'notblueval'),\n-            'blueval'\n-        )\n-        self.assertEqual(\n-            cid.setdefault('notspam', 'notblueval'),\n-            'notblueval'\n-        )\n+        assert cid.setdefault('spam', 'notblueval') == 'blueval'\n+        assert cid.setdefault('notspam', 'notblueval') == 'notblueval'\n \n     def test_lower_items(self):\n         cid = CaseInsensitiveDict({\n@@ -856,7 +835,7 @@ class TestCaseInsensitiveDict(unittest.TestCase):\n         })\n         keyset = frozenset(lowerkey for lowerkey, v in cid.lower_items())\n         lowerkeyset = frozenset(['accept', 'user-agent'])\n-        self.assertEqual(keyset, lowerkeyset)\n+        assert keyset == lowerkeyset\n \n     def test_preserve_key_case(self):\n         cid = CaseInsensitiveDict({\n@@ -864,9 +843,9 @@ class TestCaseInsensitiveDict(unittest.TestCase):\n             'user-Agent': 'requests',\n         })\n         keyset = frozenset(['Accept', 'user-Agent'])\n-        self.assertEqual(frozenset(i[0] for i in cid.items()), keyset)\n-        self.assertEqual(frozenset(cid.keys()), keyset)\n-        self.assertEqual(frozenset(cid), keyset)\n+        assert frozenset(i[0] for i in cid.items()) == keyset\n+        assert frozenset(cid.keys()) == keyset\n+        assert frozenset(cid) == keyset\n \n     def test_preserve_last_key_case(self):\n         cid = CaseInsensitiveDict({\n@@ -876,9 +855,9 @@ class TestCaseInsensitiveDict(unittest.TestCase):\n         cid.update({'ACCEPT': 'application/json'})\n         cid['USER-AGENT'] = 'requests'\n         keyset = frozenset(['ACCEPT', 'USER-AGENT'])\n-        self.assertEqual(frozenset(i[0] for i in cid.items()), keyset)\n-        self.assertEqual(frozenset(cid.keys()), keyset)\n-        self.assertEqual(frozenset(cid), keyset)\n+        assert frozenset(i[0] for i in cid.items()) == keyset\n+        assert frozenset(cid.keys()) == keyset\n+        assert frozenset(cid) == keyset\n \n \n class UtilsTestCase(unittest.TestCase):\n@@ -889,18 +868,18 @@ class UtilsTestCase(unittest.TestCase):\n         from io import BytesIO\n         from requests.utils import super_len\n \n-        self.assertEqual(super_len(StringIO.StringIO()), 0)\n-        self.assertEqual(super_len(StringIO.StringIO('with so much drama in the LBC')), 29)\n+        assert super_len(StringIO.StringIO()) == 0\n+        assert super_len(StringIO.StringIO('with so much drama in the LBC')) == 29\n \n-        self.assertEqual(super_len(BytesIO()), 0)\n-        self.assertEqual(super_len(BytesIO(b\"it's kinda hard bein' snoop d-o-double-g\")), 40)\n+        assert super_len(BytesIO()) == 0\n+        assert super_len(BytesIO(b\"it's kinda hard bein' snoop d-o-double-g\")) == 40\n \n         try:\n             import cStringIO\n         except ImportError:\n             pass\n         else:\n-            self.assertEqual(super_len(cStringIO.StringIO('but some how, some way...')), 25)\n+            assert super_len(cStringIO.StringIO('but some how, some way...')) == 25\n \n if __name__ == '__main__':\n     unittest.main()\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#3488f3ade7819c79f3628ef2c87aff6e0f2f3946", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 9 | Lines Deleted: 3 | Files Changed: 1 | Hunks: 3 | Methods Changed: 0 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 12 | Churn Cumulative: 388 | Contributors (this commit): 14 | Commits (past 90d): 1 | Contributors (cumulative): 14 | DMM Complexity: None\n\nDIFF:\n@@ -26,12 +26,18 @@ packages = [\n \n requires = []\n \n+with open('README.rst') as f:\n+    readme = f.read()\n+with open('HISTORY.rst') as f:\n+    history = f.read()\n+with open('LICENSE') as f:\n+    license = f.read()\n+\n setup(\n     name='requests',\n     version=requests.__version__,\n     description='Python HTTP for Humans.',\n-    long_description=open('README.rst').read() + '\\n\\n' +\n-                     open('HISTORY.rst').read(),\n+    long_description=readme + '\\n\\n' + history,\n     author='Kenneth Reitz',\n     author_email='me@kennethreitz.com',\n     url='http://python-requests.org',\n@@ -40,7 +46,7 @@ setup(\n     package_dir={'requests': 'requests'},\n     include_package_data=True,\n     install_requires=requires,\n-    license=open('LICENSE').read(),\n+    license=license,\n     zip_safe=False,\n     classifiers=(\n         'Development Status :: 5 - Production/Stable',\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#a501b0ca81e340fb2c968e1cabc37565187006f7", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 2 | Lines Deleted: 1 | Files Changed: 1 | Hunks: 2 | Methods Changed: 1 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 3 | Churn Cumulative: 1935 | Contributors (this commit): 46 | Commits (past 90d): 5 | Contributors (cumulative): 46 | DMM Complexity: 0.0\n\nDIFF:\n@@ -17,7 +17,6 @@ import os\n import platform\n import re\n import sys\n-from netrc import netrc, NetrcParseError\n \n from . import __version__\n from . import certs\n@@ -67,6 +66,8 @@ def get_netrc_auth(url):\n     \"\"\"Returns the Requests tuple auth for a given url from netrc.\"\"\"\n \n     try:\n+        from netrc import netrc, NetrcParseError\n+\n         locations = (os.path.expanduser('~/{0}'.format(f)) for f in NETRC_FILES)\n         netrc_path = None\n \n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#a9ec28a1b4288e6368f855f442817633d3a7f7da", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 15 | Lines Deleted: 0 | Files Changed: 3 | Hunks: 3 | Methods Changed: 3 | Complexity Δ (Sum/Max): 3/1 | Churn Δ: 15 | Churn Cumulative: 13762 | Contributors (this commit): 152 | Commits (past 90d): 28 | Contributors (cumulative): 195 | DMM Complexity: 0.5833333333333334\n\nDIFF:\n@@ -327,6 +327,11 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n             raise MissingSchema(\"Invalid URL {0!r}: No schema supplied. \"\n                                 \"Perhaps you meant http://{0}?\".format(url))\n \n+        # Don't do any URL preparation for oddball schemes\n+        if scheme.lower() not in ('http', 'https'):\n+            self.url = url\n+            return\n+\n         if not host:\n             raise InvalidURL(\"Invalid URL %r: No host supplied\" % url)\n \n\n@@ -365,6 +365,8 @@ def parse_url(url):\n     # Scheme\n     if '://' in url:\n         scheme, url = url.split('://', 1)\n+    elif ':' in url:\n+        scheme, url = url.split(':', 1)\n \n     # Find the earliest Authority Terminator\n     # (http://tools.ietf.org/html/rfc3986#section-3.2)\n\n@@ -678,6 +678,14 @@ class RequestsTestCase(unittest.TestCase):\n \n         assert p.headers['Content-Length'] == length\n \n+    def test_oddball_schemes_dont_check_URLs(self):\n+        r1 = requests.Request('GET', 'data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==')\n+        r1.prepare()\n+        r2 = requests.Request('GET', 'file:///etc/passwd')\n+        r2.prepare()\n+        r3 = requests.Request('GET', 'magnet:?xt=urn:btih:be08f00302bc2d1d3cfa3af02024fa647a271431')\n+        r3.prepare()\n+\n class TestContentEncodingDetection(unittest.TestCase):\n \n     def test_none(self):\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#0228851f19aaf4b0f620c74cb08d295329431a3e", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 0 | Lines Deleted: 15 | Files Changed: 3 | Hunks: 3 | Methods Changed: 3 | Complexity Δ (Sum/Max): -3/0 | Churn Δ: 15 | Churn Cumulative: 13777 | Contributors (this commit): 152 | Commits (past 90d): 31 | Contributors (cumulative): 195 | DMM Complexity: 0.4166666666666667\n\nDIFF:\n@@ -327,11 +327,6 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n             raise MissingSchema(\"Invalid URL {0!r}: No schema supplied. \"\n                                 \"Perhaps you meant http://{0}?\".format(url))\n \n-        # Don't do any URL preparation for oddball schemes\n-        if scheme.lower() not in ('http', 'https'):\n-            self.url = url\n-            return\n-\n         if not host:\n             raise InvalidURL(\"Invalid URL %r: No host supplied\" % url)\n \n\n@@ -365,8 +365,6 @@ def parse_url(url):\n     # Scheme\n     if '://' in url:\n         scheme, url = url.split('://', 1)\n-    elif ':' in url:\n-        scheme, url = url.split(':', 1)\n \n     # Find the earliest Authority Terminator\n     # (http://tools.ietf.org/html/rfc3986#section-3.2)\n\n@@ -678,14 +678,6 @@ class RequestsTestCase(unittest.TestCase):\n \n         assert p.headers['Content-Length'] == length\n \n-    def test_oddball_schemes_dont_check_URLs(self):\n-        r1 = requests.Request('GET', 'data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==')\n-        r1.prepare()\n-        r2 = requests.Request('GET', 'file:///etc/passwd')\n-        r2.prepare()\n-        r3 = requests.Request('GET', 'magnet:?xt=urn:btih:be08f00302bc2d1d3cfa3af02024fa647a271431')\n-        r3.prepare()\n-\n class TestContentEncodingDetection(unittest.TestCase):\n \n     def test_none(self):\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#20f802764142a1886db239ff7b147e3b5433e5f9", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 2 | Lines Deleted: 2 | Files Changed: 1 | Hunks: 1 | Methods Changed: 1 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 4 | Churn Cumulative: 8947 | Contributors (this commit): 123 | Commits (past 90d): 17 | Contributors (cumulative): 123 | DMM Complexity: None\n\nDIFF:\n@@ -648,8 +648,8 @@ class Response(object):\n     def text(self):\n         \"\"\"Content of the response, in unicode.\n \n-        if Response.encoding is None and chardet module is available, encoding\n-        will be guessed.\n+        if Response.encoding is None, encoding will be guessed using\n+        ``charade``.\n         \"\"\"\n \n         # Try charset from content-type\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#9ffcbb82a2d6a49939d52fe95f494488d4b6b7c6", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 1 | Lines Deleted: 1 | Files Changed: 1 | Hunks: 1 | Methods Changed: 1 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 2 | Churn Cumulative: 8949 | Contributors (this commit): 123 | Commits (past 90d): 18 | Contributors (cumulative): 123 | DMM Complexity: None\n\nDIFF:\n@@ -648,7 +648,7 @@ class Response(object):\n     def text(self):\n         \"\"\"Content of the response, in unicode.\n \n-        if Response.encoding is None, encoding will be guessed using\n+        If Response.encoding is None, encoding will be guessed using\n         ``charade``.\n         \"\"\"\n \n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#edf7e5f42062dd8ff65ae05e9bbbc7a3bc3d156a", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 1 | Lines Deleted: 1 | Files Changed: 1 | Hunks: 1 | Methods Changed: 1 | Complexity Δ (Sum/Max): -1/0 | Churn Δ: 2 | Churn Cumulative: 689 | Contributors (this commit): 16 | Commits (past 90d): 9 | Contributors (cumulative): 16 | DMM Complexity: None\n\nDIFF:\n@@ -289,7 +289,7 @@ class HTTPAdapter(BaseAdapter):\n         :param stream: (optional) Whether to stream the request content.\n         :param timeout: (optional) The timeout on the request.\n         :param verify: (optional) Whether to verify SSL certificates.\n-        :param vert: (optional) Any user-provided SSL certificate to be trusted.\n+        :param cert: (optional) Any user-provided SSL certificate to be trusted.\n         :param proxies: (optional) The proxies dictionary to apply to the request.\n         \"\"\"\n \n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
{"custom_id": "requests#495f87363b3a8b5856850aea5db15df15d597f77", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "gpt-4o", "messages": [{"role": "user", "content": "You are a senior reviewer.\n\nCommit Summary:\nLines Added: 2 | Lines Deleted: 2 | Files Changed: 1 | Hunks: 2 | Methods Changed: 1 | Complexity Δ (Sum/Max): 0/0 | Churn Δ: 4 | Churn Cumulative: 1085 | Contributors (this commit): 28 | Commits (past 90d): 1 | Contributors (cumulative): 28 | DMM Complexity: None\n\nDIFF:\n@@ -12,7 +12,7 @@ This module implements the Requests API.\n \"\"\"\n \n from . import sessions\n-\n+from .compat import builtin_str\n \n def request(method, url, **kwargs):\n     \"\"\"Constructs and sends a :class:`Request <Request>`.\n@@ -41,7 +41,7 @@ def request(method, url, **kwargs):\n     \"\"\"\n \n     session = sessions.Session()\n-    return session.request(method=method, url=url, **kwargs)\n+    return session.request(method=builtin_str(method), url=url, **kwargs)\n \n \n def get(url, **kwargs):\n\n\nQuestion: Does this commit introduce technical debt? Answer yes or no."}], "max_tokens": 1, "temperature": 0}}
